[supervisord]
nodaemon=true
logfile=/var/log/supervisord.log
pidfile=/var/run/supervisord.pid

[program:redis]
command=/usr/bin/redis-server --bind 127.0.0.1 --port 6379
autostart=true
autorestart=true
priority=5

[program:apache2]
command=/usr/sbin/apache2ctl -D FOREGROUND
autostart=true
autorestart=true
priority=10

[program:checker-app]
command=gunicorn --workers 4 --timeout 200 --bind 0.0.0.0:8888 app:app
directory=/app
autostart=true
autorestart=true
environment=PORT=8888
priority=15

[program:worker]
command=python3 worker.py
directory=/app
autostart=true
autorestart=true
priority=20

[program:proxy-mgr]
command=python3 tunnel_manager.py
directory=/var/www/html/proxy-service
autostart=true
autorestart=true
priority=25
